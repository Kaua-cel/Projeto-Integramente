{% extends "base.html" %}
{% block content %}
<h1 class="text-2xl font-bold mb-6">Fila de Atendimento</h1>

{% if alunos %}
<table class="min-w-full bg-white shadow rounded-lg overflow-hidden">
  <thead class="bg-gray-100">
    <tr>
      <th class="p-3 text-left text-sm font-semibold">Prioridade</th>
      <th class="p-3 text-left text-sm font-semibold">Nome</th>
      <th class="p-3 text-left text-sm font-semibold">Turma</th>
      <th class="p-3 text-left text-sm font-semibold">Ação</th>
    </tr>
  </thead>
  <tbody>
    {% for aluno in alunos %}
    <tr class="border-t">
      <td class="p-3">
        <span class="px-2 py-1 text-xs font-semibold rounded-full
          {% if aluno.prioridade == 1 %} bg-red-100 text-red-800
          {% elif aluno.prioridade == 2 %} bg-yellow-100 text-yellow-800
          {% elif aluno.prioridade == 3 %} bg-blue-100 text-blue-800
          {% else %} bg-gray-200 text-gray-800
          {% endif %}
        ">
          {{ aluno.get_prioridade_display }}
        </span>
      </td>
      <td class="p-3">{{ aluno.nome }}</td>
      <td class="p-3">{{ aluno.turma }}</td>
      <td class="p-3">
        <a href="{% url 'registrar_atendimento' aluno.id %}" class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded">
          Atender
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p class="text-gray-600">Nenhum aluno aguardando atendimento no momento.</p>
{% endif %}
{% endblock %}
